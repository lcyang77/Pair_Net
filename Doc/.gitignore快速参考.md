# .gitignore å¿«é€Ÿå‚è€ƒå¡ç‰‡

> å¿«é€ŸæŸ¥é˜…å¸¸ç”¨Gitå¿½ç•¥è§„åˆ™å’Œå‘½ä»¤

---

## ğŸ¯ æ ¸å¿ƒåŸåˆ™

```
âœ… æäº¤ï¼šæºä»£ç ã€é…ç½®æ¨¡æ¿ã€æ–‡æ¡£
âŒ å¿½ç•¥ï¼šç¼–è¯‘äº§ç‰©ã€IDEé…ç½®ã€å¯†é’¥
```

---

## ğŸ“‹ å¿…é¡»å¿½ç•¥çš„æ–‡ä»¶ï¼ˆæœ¬é¡¹ç›®ï¼‰

| ç±»å‹ | æ–‡ä»¶/ç›®å½• | åŸå›  |
|-----|----------|------|
| ç¼–è¯‘äº§ç‰© | `build/` | å¯é‡æ–°ç”Ÿæˆï¼Œä½“ç§¯å¤§ |
| é…ç½®æ–‡ä»¶ | `sdkconfig` | è‡ªåŠ¨ç”Ÿæˆï¼Œç”¨sdkconfig.defaults |
| ä¾èµ– | `managed_components/` | å¯é‡æ–°ä¸‹è½½ |
| Python | `__pycache__/`, `venv/` | å¯é‡æ–°åˆ›å»º |
| å¯†é’¥ | `*.key`, `*.pem`, `secrets.h` | å®‰å…¨è€ƒè™‘ |
| IDE | `.vscode/`, `.idea/` | ä¸ªäººé…ç½® |
| ç³»ç»Ÿ | `.DS_Store`, `Thumbs.db` | æ— ç”¨å…ƒæ•°æ® |

---

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

### æ£€æŸ¥æ–‡ä»¶æ˜¯å¦è¢«å¿½ç•¥
```bash
git check-ignore -v <æ–‡ä»¶å>
```

### ä»Gitä¸­ç§»é™¤ï¼ˆä¿ç•™æœ¬åœ°ï¼‰
```bash
git rm --cached <æ–‡ä»¶å>
git rm --cached -r <ç›®å½•å>
```

### æŸ¥çœ‹æ‰€æœ‰è¢«å¿½ç•¥çš„æ–‡ä»¶
```bash
git status --ignored
```

### å¼ºåˆ¶æ·»åŠ è¢«å¿½ç•¥çš„æ–‡ä»¶
```bash
git add -f <æ–‡ä»¶å>  # è°¨æ…ä½¿ç”¨ï¼
```

### æ¸…é™¤Gitç¼“å­˜ï¼ˆ.gitignoreä¸ç”Ÿæ•ˆæ—¶ï¼‰
```bash
git rm -r --cached .
git add .
git commit -m "Update .gitignore"
```

---

## ğŸš€ å¿«é€Ÿæ¸…ç†ï¼ˆæœ¬é¡¹ç›®ï¼‰

### Windows
```batch
cleanup.bat
```

### Linux/macOS
```bash
./cleanup.sh
```

### æ‰‹åŠ¨æ¸…ç†
```bash
# 1. åˆ é™¤ç©ºæ–‡ä»¶
rm nul

# 2. ç§»é™¤sdkconfig
git rm --cached sdkconfig

# 3. æ£€æŸ¥çŠ¶æ€
git status

# 4. æäº¤
git add .gitignore
git commit -m "chore: add .gitignore"
```

---

## âš ï¸ ç»å¯¹ä¸èƒ½æäº¤

```bash
# å¯†é’¥å’Œè¯ä¹¦
*.key
*.pem
*.crt
*.p12

# å¯†ç å’Œå‡­æ®
*secrets*
*credentials*
.env

# é…ç½®ä¸­çš„æ•æ„Ÿä¿¡æ¯
secrets.h
credentials.h
```

---

## âœ… åº”è¯¥æäº¤

```bash
# æºä»£ç 
*.c
*.h

# é…ç½®æ¨¡æ¿
sdkconfig.defaults
partitions.csv

# æ„å»ºé…ç½®
CMakeLists.txt
Makefile

# æ–‡æ¡£
*.md
Doc/

# é¡¹ç›®è¯´æ˜
README.md
CLAUDE.md
LICENSE
```

---

## ğŸ” è°ƒè¯•.gitignore

### æµ‹è¯•è§„åˆ™
```bash
# æµ‹è¯•ç‰¹å®šæ–‡ä»¶
git check-ignore -v build/main.bin
# è¾“å‡ºï¼š.gitignore:16:*.bin    build/main.bin

# æµ‹è¯•å¤šä¸ªæ–‡ä»¶
git check-ignore -v build/* *.o sdkconfig
```

### æŸ¥çœ‹åŒ¹é…æ¨¡å¼
```bash
# è¯¦ç»†è¾“å‡º
git check-ignore -v $(git ls-files --others --exclude-standard)
```

---

## ğŸ“ .gitignore è¯­æ³•é€ŸæŸ¥

| è§„åˆ™ | ç¤ºä¾‹ | è¯´æ˜ |
|-----|------|------|
| æ–‡ä»¶å | `file.txt` | å¿½ç•¥æ‰€æœ‰file.txt |
| ç›®å½• | `dir/` | å¿½ç•¥dirç›®å½•åŠå…¶å†…å®¹ |
| é€šé…ç¬¦ | `*.bin` | å¿½ç•¥æ‰€æœ‰.binæ–‡ä»¶ |
| æ ¹ç›®å½• | `/build/` | åªå¿½ç•¥æ ¹ç›®å½•çš„build |
| ä»»æ„ä½ç½® | `build/` | å¿½ç•¥ä»»æ„ä½ç½®çš„build |
| å¦å®š | `!important.bin` | ä¸å¿½ç•¥è¿™ä¸ªæ–‡ä»¶ |
| æ³¨é‡Š | `# comment` | æ³¨é‡Šè¡Œ |

### é€šé…ç¬¦
```
*      åŒ¹é…ä»»æ„å­—ç¬¦ï¼ˆé™¤/ï¼‰
**     åŒ¹é…ä»»æ„ç›®å½•
?      åŒ¹é…å•ä¸ªå­—ç¬¦
[abc]  åŒ¹é…aã€bæˆ–c
[0-9]  åŒ¹é…0åˆ°9
```

---

## ğŸ”§ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜1ï¼š.gitignoreä¸ç”Ÿæ•ˆ
```bash
# åŸå› ï¼šæ–‡ä»¶å·²è¢«Gitè·Ÿè¸ª
# è§£å†³ï¼š
git rm --cached <æ–‡ä»¶>
```

### é—®é¢˜2ï¼šæƒ³å¿½ç•¥å·²æäº¤çš„æ–‡ä»¶
```bash
# 1. æ·»åŠ åˆ°.gitignore
echo "file.txt" >> .gitignore

# 2. ä»Gitç§»é™¤
git rm --cached file.txt

# 3. æäº¤
git commit -m "chore: ignore file.txt"
```

### é—®é¢˜3ï¼šè¯¯æäº¤äº†å¤§æ–‡ä»¶
```bash
# ä»å†å²ä¸­åˆ é™¤ï¼ˆå±é™©æ“ä½œï¼ï¼‰
git filter-branch --tree-filter 'rm -f large_file.bin' HEAD

# æˆ–ä½¿ç”¨BFGå·¥å…·
bfg --delete-files large_file.bin
```

### é—®é¢˜4ï¼šå›¢é˜Ÿæˆå‘˜ä»èƒ½çœ‹åˆ°è¢«å¿½ç•¥çš„æ–‡ä»¶
```bash
# ä»–ä»¬éœ€è¦æ‰§è¡Œï¼š
git pull
git rm --cached <æ–‡ä»¶>
```

---

## ğŸ“Š æ£€æŸ¥æ¸…å•

æäº¤å‰æ£€æŸ¥ï¼š
- [ ] `git status` æ— å¼‚å¸¸æ–‡ä»¶
- [ ] æ—  `build/` ç›®å½•
- [ ] æ—  `sdkconfig` æ–‡ä»¶
- [ ] æ— å¯†é’¥ã€å¯†ç 
- [ ] æ— å¤§å‹äºŒè¿›åˆ¶æ–‡ä»¶
- [ ] æäº¤ä¿¡æ¯æ¸…æ™°

---

## ğŸ“ è·å–å¸®åŠ©

- è¯¦ç»†æ–‡æ¡£ï¼š`Doc/.gitignoreè¯´æ˜æ–‡æ¡£.md`
- æ¸…ç†æŒ‡å—ï¼š`Doc/Gitä»“åº“æ¸…ç†æŠ¥å‘Š.md`
- è‡ªåŠ¨æ¸…ç†ï¼šè¿è¡Œ `cleanup.bat` æˆ– `cleanup.sh`

---

## ğŸ”— ç›¸å…³èµ„æº

- [Gitå®˜æ–¹æ–‡æ¡£](https://git-scm.com/docs/gitignore)
- [GitHub .gitignoreæ¨¡æ¿](https://github.com/github/gitignore)
- [gitignore.io](https://www.toptal.com/developers/gitignore)

---

**æç¤º**ï¼šæ‰“å°æ­¤å¡ç‰‡å¹¶æ”¾åœ¨æ¡Œè¾¹ï¼Œéšæ—¶æŸ¥é˜…ï¼

> æœ€åæ›´æ–°ï¼š2025å¹´
